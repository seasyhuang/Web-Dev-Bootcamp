<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="notes-style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <title>Last Things (Etc) Notes</title>
  </head>
  <body>

    <!--Navigation bar-->
    <iframe src="notes-navbar4.html" frameborder="0" width="100%" height="70px"></iframe>

    <div class="container">
      <div class="jumbotron pl-5">
        <h1 class="display-2 text-info">Etc</h1>
        <h2 class="display-5">Section 39-41</h2>
      </div>

      <ul>
        <li class="lecture">Lecture 372: Git and github</li>
        <ul>
          <li>version control</li>
          <li>hard to understand the utility of git when you're starting out/on your own</li>
          <li>what is git - the technology</li>
          <li>what is Github - the website</li>
          <li>why should you care -  many developers use, popular</li>
          <li>novel writing analogy: imagine you're a writer - have many versions and save them, like save checkpoint </li>
          <li>with git, you can save different versions of multiple files </li>
          <li>installing git: to check if git is installed, you can do <code>git --version</code> </li>
        </ul>

        <li class="lecture">Lecture 373: git init, add, and commit</li>
        <ul>
          <li><code>git init</code> - manually tell git to track the folder and all folders/files in the folder</li>
          <li>accidentially init a .git, use <code>rm -rf</code> on the .git file </li>
          <li><code>git add</code> - tells git which files to add to the commit (select files for commit)</li>
          <li><code>git commit -m</code> - what is the commit and the message going with the commit </li>
          <li>traditionally git commits are in the present tense</li>
        </ul>

        <li class="lecture">Lecture 374: git log, checkout</li>
        <ul>
          <li><code>git log</code> - history of all commits, escape using <code>q</code> </li>
          <li>the git hash is the most important part: <code>commit 27c7357277160a99f2bbd6975d5f095e35194d2a</code> (example) </li>
          <li>go to back to that commit, you can do <code>git checkout 27c7357277160a99f2bbd6975d5f095e35194d2a</code> - it may tell you that there are untracked changes. you can commit these changes (that's where master is), then do git checkout again</li>
          <li>you will no longer be on master - HEAD is like a pointer in times, and it will now be at the 27c73.... commit: the head is now detached from master</li>
          <li>usually when we check out, it's to look at some old code and then go back to master</li>
          <li>but sometimes you want to go back to an old commit and revert to that commit</li>
          <li>one way of reverting: <code>git revert --no-commit 27c7357277160a99f2bbd6975d5f095e35194d2a..HEAD</code> </li>
          <li>then commit your changes (don't need to add) <code>git commit -m "reverted back to ..."</code> </li>
          <li>this method doesn't delete everything: you can still access/see old "deleted" changes with git log</li>
        </ul>

        <li>** note</li>
        <ul>
          <li>this section is not completed yet (March 15 2020), but <a href="https://www.youtube.com/watch?v=LemSseuZB9I&list=PL86ehqHzxhy4XX_qZZE_5mrp38WGZRzTO">youtube tutorial here</a> </li>
        </ul>
      </ul>

      <h1 class="my-3 text-info">Section 40: Deploying</h1>
      <ul>
        <li class="lecture">Lecture 376: heroku</li>
        <ul>
          <li>running code on someone else's server</li>
          <li>get our application on heroku servers and get it to run on another computer on another server</li>
          <li>first with a simple app, then yelpcamp</li>
        </ul>

        <li class="lecture">Lecture 377-9: deploying a simple app</li>
        <ol>
          <li><a href="deplyingdemo">(very simple) deplying demo</a></li>
        </ol>
        <ul>
          <li>the <code>--save</code> in <code>npm install --save</code> is very important here for deplying</li>
          <li>we need to sign up on <a href="https://www.heroku.com/">heroku</a> </li>
          <li>may need to use <code>heroku login -i</code> </li>
          <li>after logging in, git init new repo (git init, add .,  commit -m "initial commit")</li>
          <li>run <code>heroku create</code>, will create a random name </li>
          <li>need to associate your code with heroku: heroku created a new git remote ("https://git.heroku.com/limitless-spire-24915.git") </li>
          <li>when you run <code>git remote -v</code>, you can see the new branch </li>
          <li>to associate: <code>git push heroku master</code>, lots of code in the terminal will follow </li>
          <li>however when we go to https://limitless-spire-24915.herokuapp.com/ now, it will show an error </li>
          <li>to see the error: > <code>heroku logs</code> </li>
          <li>we don't have a "start script" - equivalent of <code>node app.js</code> </li>
          <li>so we need to add <code>"start": "node app.js"</code> to our package.json in the <code>scripts</code> </li>
          <li>after that, git add, commit, and push master to heroku</li>
          <li>note: need to use: <code>const PORT = process.env.PORT || 3000;
          app.listen(PORT, () => {
              console.log(`Our app is running on port ${ PORT }`);
          });</code> for app.listen</li>
        </ul>

        <li class="lecture">Lecture 380-2: deplying yelpcamp</li>
        <ol>
          <li><a href="introtonode/yelpcamp/v11deployed/">YelpCamp v11 for deploying</a></li>
          <li><a href="introtonode/yelpcamp/v11deployed/app.js">app.js</a></li>
        </ol>
        <ul>
          <li>this is more complicated because we need to get the database on heroku</li>
          <li>created at <code>https://secure-ridge-50520.herokuapp.com/ | https://git.heroku.com/secure-ridge-50520.git</code> </li>
          <li>didn't handle any db stuff, so we will get an error</li>
          <li>we can run terminal commands in the heroku container, example: <code>heroku run ls</code> </li>
          <li>Important Update: mLab (mongolab) is now MongoDB Atlas, please see <a href="https://www.udemy.com/course/the-web-developer-bootcamp/learn/lecture/4474078#questions/6345892">here</a> for written instructions or <a href="https://www.youtube.com/watch?v=iJtOoeM_fS8&feature=youtu.be&t=368">here</a> for a video (detailing how to set up and use MongoDB Atlas with Node (Express)).</li>
          <li>we need a hosted mongo db - using <a href="https://www.mongodb.com/cloud/atlas">MongoDB Atlas</a></li>
          <li>welcome - click on build my first cluster - create, then wait for cluster to be created</li>
          <li>click "connect", then whitelist your ip address</li>
          <li>create a mongodb user</li>
          <li>connect to apllication with a "connection string" - copy this</li>
          <li>in the <a href="introtonode/yelpcamp/v11deployed/app.js">app.js</a>, add <code>mongoose.connect("[copied string]")</code>, changing the password to your password and <code>retryWrites=false</code> </li>
        </ul>

        <li class="lecture">Lecture 383: environment variables</li>
        <ul>
          <li>good to separate variables between local version and deployed version</li>
          <li>*** need to add <code>0.0.0.0/0</code> to mongodb atlas whitelist </li>
          <li>had a bug: changed port to 80 (was previously 3000)</li>
          <li>ex. between mongodb and mongodb atlas</li>
          <li>environment variables - refer to the environment in which the code is run: adding variables that aren't constant</li>
          <li>always start with <code>process.env</code> </li>
          <li>we'll create an environment variable (convention is to do it in all caps)</li>
          <li>in the command line: <code>export DATABASEURL=mongodb://localhost:27017/yelp_camp_v11</code> </li>
          <li>then, if we go into app.js and <code>console.log(process.env.DATABASEURL);</code>, it should print <code>mongodb://localhost:27017/yelp_camp_v11</code> </li>
          <li>we can locally run <code>mongoose.connect(process.env.DATABASEURL);</code> with no problems</li>
          <li>however, this won't work on heroku: env variable is not set there</li>
          <li>go to heroku and add the variable in settings --> config vars (this can be done in the command line too)</li>
          <li>another good reason for using env var: they're hidden, and when you put your code online, no problem </li>
          <li>now, <strong>locally</strong> we have the local mongo db associated with yelpcamp (need to have mongod, mongo open in command line) </li>
          <li>on <strong>heroku</strong>, we have our mongodb atlas associated with our deployed yelpcamp </li>
        </ul>
      </ul>

      <h1 class="my-3 text-info">Section 41: more javascript stuff</h1>
      <ul>
        <li class="lecture">Lecture 384-9: Keyword This</li>
        <ul>
          <li>the keyword <code>this</code> </li>
          <li>(1) in the global context: <code>this</code> refers to the window object - the global object </li>
          <ul class="inner">
            <li>in the global context: inside a function, the keyword <code>this</code> is still the window object </li>
            <li>what happens when we attach properties to <code>this</code> in the global context - anything we attach to it has global scope, but this is <strong>bad practice</strong> </li>
            <li><em>it is good practice</em> to declare all variables we want to use at the start of the code, and assign the values at a later time in the code</li>
            <li>strict mode: use with <code>"use strict"</code> at the start of the code - stops developers from accidentally adding properties to global <code>this</code> - value becomes undefined</li>
          </ul>
          <li>(2) implicit/object: inside a function, for example: <code>var person = { first: "Elie", sayHi: function() { return "Hi " + this.first } }</code>, <code>person.sayHi()</code> returns <code>"Hi Elie"</code> </li>
          <ul class="inner">
            <li>becomes complicated with nested objects, for example a dog object in the person object</li>
            <li>using <code>this</code> in the dog object would refer to the dog - always refers to the parent object</li>
            <li><strong>when the keyword this is inside a declared object, its value will always be the closest parent object</strong> </li>
            <li>if the dog object had no <code>first</code> property, then calling <code>sayHi()</code> from within the dog objet would return <code>"Hi [undefined]"</code> </li>
            <li>how to fix this: the <strong>call apply bind</strong> methods</li>
            <li>to set the keyword <code>this</code> to only refer to the <code>person</code> object </li>
          </ul>
          <li>(3) explicit binding: </li>
          <ul class="inner">
            <li>these three methods can only be used by functions</li>
            <li>(1) <code>call</code> - many params: thisArg, a, b, ... , invoked immediately</li>
            <ul class="inner">
              <li>used in real life to 'borrow' functions that use <code>this</code> between objects (avoid duplication)</li>
              <li>setting <code>this</code> in sayHello to refer to <code>person</code> object: <code>person.dog.sayHello.call(person);</code> - sayHello is not envoked, so no <code>()</code> </li>
              <li>colt object and elie objects (<a href="intermediatejs.js">example</a>): <code>colt.sayHi.call(elie);</code> </li>
            </ul>
            <li>(2) <code>apply</code> - 2 params: thisArg, [a, b, ... ], invoked immediately </li>
            <ul class="inner">
              <li>the same as <code>call</code> until you start adding arguments</li>
              <li>apply - 2 args (params passed as second array to 2nd arg)</li>
              <li>see <a href="intermediatejs.js">example</a></li>
            </ul>
            <li>(3) <code>bind</code> - many params: thisArg, a, b, ... , invoked later - returns function definition that can be used at a later time</li>
            <ul>
              <li>returns function definition</li>
              <li>don't need to know params, just <code>thisArg</code> </li>
              <li>can use to set context of this for a function that will be called later in time</li>
              <li>useful for asynchronous</li>
              <li>"partial application"</li>
              <li>setTimeout example: when the function is called later in time, <code>this</code> refers to the global this </li>
              <li>see <a href="intermediatejs.js">example</a> (comments in the code)</li>
            </ul>
          </ul>
          <li>(4) the keyword <code>new</code>: </li>
          <ul class="inner">
            <li>when the <code>new</code> keyword is used, an object is created out of thin air</li>
            <li>see <a href="intermediatejs.js">example</a> (comments in the code)</li>
          </ul>
        </ul>

        <li class="lecture">Lecture 394-402: OOP</li>
        <ul class="inner">
          <li>see <a href="oop.js">examples</a> (comments in the code)</li>
          <li>object oriented programming</li>
          <li>constructor functions: a blueprint</li>
          <li>capitalized for best practice</li>
          <li>we need the <code>new</code> keyword  </li>
          <ul class="inner">
            <li>(1) it creates an empty object, (2) sets the keyword <code>this</code> to be that empty object, then (3) adds the line <code>return this</code> to the end of the function, and follows it </li>
            <li>(4) it also adds a property onto the empty object called <code>__proto__</code> ("dunder proto"), which linkes the prototype property on the constructor function to the empty object (more on this later)</li>
          </ul>
          <li>multiple constructors:</li>
          <ul class="inner">
            <li>imagine two constructor functions, one for a Car and one for a Motorcycle</li>
            <li>lots of code duplication </li>
            <li>how to change the value of the keyword this? <code>call</code> or <code>apply</code> </li>
            <li>note that you can get a list of the arguments passed into a function with <code>argument</code> </li>
          </ul>
          <li>prototypes:</li>
          <div class="row">
            <div class="col-md-6">
              <ul class="inner">
                <li>circle is a function, square is an object</li>
                <li>person constructor function - has a prototype property (an object)</li>
                <li>prototype has a constructor function</li>
                <li>the dunder proto property <code>__proto__</code> links the new (any) object and prototype property of the constructor function</li>
                <li>so if we change anything in the constructor (example <code> Person.prototype.isInstructor = true; </code>) </li>
                <li>then all objects made with that constructor have access to the change</li>
                <li><code>console.log(elie.isInstructor);</code> </li>
                <li>use this to refactor code to be more efficient</li>
                <li>instead of defining a function every time you make a new object, put it on the prototype</li>
                <li>example: <code>Person.prototype.sayHi = function(){
                  console.log("Hi " + this.name);
                }</code> - note that <code>sayHi</code> does not have brackets </li>
                <li>see <a href="oop.js">examples</a> (comments in the code)</li>
              </ul>
            </div>
            <div class="col-md-6">
              <img src="proto.png" class="align-center" style="width:500px;">
            </div>
          </div>
          <li>recap:</li>
          <ul class="inner">
            <li>Every time the new keyword is used, a link between the object and the prototype property of the constructor is established - this link can be accessed using <code>__proto__</code> </li>
            <li>the prototype object contains a peoperty called constructor, which points back to the constructor function</li>
            <li>to share properties and methods for objects created by a constructor function, <strong>place them in the prototype</strong> - this is most efficient</li>
          </ul>
        </ul>

        <li class="lecture">Lecture 403: closures</li>
        <ul>
          <li><a href="closures.js">example of closures here</a> (comments in the code)</li>
          <li>a defined function that makes use of variables defined in outer functions that have previously returned</li>
        </ul>


        </ul>
      </ul>





    </div>
    <script src="eventlistener.js" charset="utf-8"></script>
  </body>
</html>
